<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Найти клад</title>
</head>
<body>
	<h1 id ="heading">Найди клад</h1>
	<img id="map" width=400 height=400 src="http://nostarch.com/images/treasuremap.png" alt="">
	<p id="distance"></p>



	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>


	<script>
	
	const getRandomNumber = size => {
		return Math.floor(Math.random()*size);
	};


	const getDistance = (event,target) => {
		let diffx = event.offsetX-target.x;
		let diffY = event.offsetY-target.y;
		return Math.sqrt((diffx*diffx)+(diffY*diffY));
	};

	let getDistanceHint = distance => {
			  if(distance<10){
			return "Очень близко!";
		}else if (distance<20){
			return " близко!";
		}else if (distance<40){
			return "Нормально";
		}else if (distance<80){
			return "не очень близко";
		}else if (distance<160){
			return "далеко";
		}else if (distance<320){
			return "Очень далеко";
		}else{
			return "Не попал";
		}
	};


	let width = 400;
	let height = 400;
	let clicks = 0;
	let	target = {
		x: getRandomNumber(width),
		y: getRandomNumber(height)
	};

	$("#map").click( event => {
		clicks++;
		let distance = getDistance(event,target);
		let distanceHint = getDistanceHint(distance);
		$("#distance").text(distanceHint);
		if(distance < 8){
			alert("Клад найден! Сделано кликов:"+ clicks);
		}
	});

	</script>
</body>
</html>